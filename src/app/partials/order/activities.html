<div ng-controller="ActivitiesCtrl as activitiesModel">
<table>
  <thead>
  <th><label>תאריך</label></th>
  <th><label>פעילות</label></th>
  <th></th>
  <th></th>
  </thead>
  <tr>
    <td>{{activitiesModel.activityDate | date: 'dd/MM/yyyy HH:mm'}}</td>
    <td>
      <input type="text" size="70" ng-model="activitiesModel.activityText"
             ng-disabled="activitiesModel.isReadOnly"
          >
    </td>
    <td>
        <button ng-click="activitiesModel.addActivity()"
                ng-disabled="activitiesModel.isReadOnly"
                class="btn btn-sm btn-default">צור</button>
    </td>
  </tr>
  <tr ng-repeat="activity in activitiesModel.order.attributes.activities track by activity.date">
    <td>{{activity.date | date: 'dd/MM/yyyy HH:mm'}}</td>
    <td>{{activity.text}}</td>
    <td>
      <button ng-click="activitiesModel.delActivity($index)"
              class="btn btn-sm btn-default"
              ng-disabled="activitiesModel.isReadOnly"
              >מחק</button>
    </td>
    <td>
      <button ng-click="activitiesModel.showMail(activity.mail)"
              class="btn btn-sm btn-default"
              ng-show="activity.mail"
              >הצג דואל</button>
    </td>
  </tr>
</table>
</div>
