<div ng-controller="GeneralCtrl as generalModel">
<table>
  <tr ng-class="generalModel.order.view.changes.template?'myChanged':null">
    <td>תבנית</td>
    <td>
      <input type="text" ng-model="generalModel.order.attributes.template"
             ng-change="generalModel.orderChanged('template')"
             ng-disabled="generalModel.isReadOnly">

    </td>
  </tr>
  <tr ng-class="generalModel.order.view.changes.deliveryLocation?'myChanged':null">
    <td>מקום משלוח</td>
    <td>
      <textarea rows="2" cols="48" ng-model="generalModel.order.attributes.deliveryLocation"
                ng-change="generalModel.orderChanged('deliveryLocation')"
                ng-disabled="generalModel.isReadOnly"
          ></textarea>
    </td>
  </tr>
  <tr ng-class="generalModel.order.view.changes.remarks?'myChanged':null">
    <td>הערות</td>
    <td>
      <textarea rows="4" cols="48" ng-model="generalModel.order.attributes.remarks"
                ng-change="generalModel.orderChanged('remarks')"
                ng-disabled="generalModel.isReadOnly"
          ></textarea>
    </td>
  </tr>
  <tr ng-class="generalModel.order.view.changes.includeRemarksInBid?'myChanged':null">
    <td>הכלל הערות בהצעה</td>
    <td>
      <input type="checkbox" ng-model="generalModel.order.attributes.includeRemarksInBid"
             ng-change="generalModel.orderChanged('includeRemarksInBid')"
             ng-disabled="generalModel.isReadOnly">
    </td>
  </tr>
  <tr ng-class="generalModel.order.view.changes.referralSource?'myChanged':null">
    <td>מקור הפניה</td>
    <td>
      <select ng-model="generalModel.order.view.referralSource"
              ng-change="generalModel.orderChanged('referralSource')"
              ng-options="referralSource.label for referralSource in generalModel.referralSources"
              ng-disabled="generalModel.isReadOnly"
        ></select>
    </td>
    <td>
      <input type="text" size="50" ng-model="generalModel.order.attributes.referralSourceText"
             ng-change="generalModel.orderChanged('referralSource')"
             ng-disabled="generalModel.isReadOnly">
    </td>
    <td></td>
  </tr>
  <tr></tr>
  <tr>
    <td>
      <button class="btn btn-default btn-sm"
              ng-click="generalModel.duplicateOrder()"
              ng-show="!generalModel.order.view.isChanged && generalModel.order.id">
        שכפל אירוע
      </button>

    </td>
  </tr>
  <tr>
    <td>
      <button class="btn btn-warning btn-sm"
              ng-click="generalModel.deleteOrder()"
              ng-show="generalModel.order.id">
        מחק אירוע
      </button>

    </td>
  </tr>
</table>
</div>
