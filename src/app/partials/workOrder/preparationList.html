  <table class="table" style="width: 100%">
    <tr>
      <td ng-hide="workOrderModel.woIndex.properties.domainStatus[2]">
      <span>
        --- לא מעודכן ---
      </span>
      </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width:6%">
        <span>&nbsp;הצג</span>
        <input type="checkbox"
               ng-model="workOrderModel.hierarchicalWorkOrder[2].isShowAll"
               ng-change="workOrderModel.setShowAll(2)">
      </td>
      <td style="width:12%; font-size: large">
        <span>{{workOrderModel.domains[2].forWorkItem}}</span>
        <span ng-show="workOrderModel.isShowPrepsTodayOnly">להיום</span>
    </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 10%">
        <span>הצג פירוט</span>
        <input type="checkbox"
               ng-model="workOrderModel.isShowDetails[workOrderModel.domain]"
               ng-change="workOrderModel.setGlobalDetail()">
      </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 12%">
        <span>כולל מלאי?</span>
        <input type="checkbox" ng-model="workOrderModel.isIncludeStock[workOrderModel.domain]">
      </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 15%">
        <span>כולל הכנות שבוצעו</span>
        <input type="checkbox" ng-model="workOrderModel.isShowDone"
               ng-change="workOrderModel.setPrepsDone()">
      </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 15%">
        <span>הצג רק להיום</span>
        <input type="checkbox" ng-model="workOrderModel.isShowPrepsTodayOnly"
               ng-change="workOrderModel.setPrepsTodayOnly()">
      </td>
      <td  ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 18%">
        <span>סינון לפי אירועים</span>
        <input type="checkbox"  ng-model="workOrderModel.isOrderFilter"
                ng-disabled="workOrderModel.isProcessing || workOrderModel.isShowPrepsTodayOnly"
                ng-show="workOrderModel.woIndex.properties.domainStatus[2]">
      </td>
      <td ng-show="workOrderModel.woIndex.properties.domainStatus[2]" style="width: 5%">
      </td>
    <td style="width: 12%"></td>
    </tr>
  </table>
  <table class="table" style="width: 100%">
    <tr ng-show="workOrderModel.woIndex.properties.domainStatus[2] && !workOrderModel.isShowPrepsTodayOnly">
      <td style="width: 22%"></td>
      <td style="text-align: left; width: 20%"><label>
        קבע לכולם:
      </label></td>
      <td style="width: 10%">
        <span>עוד לא</span>
        <input type="radio" ng-model="workOrderModel.select" value="delay"
               ng-change="workOrderModel.setGlobalSelect()">
      </td>
      <td style="width: 10%">
        <span>להיום</span>
        <input type="radio" ng-model="workOrderModel.select" value="today"
               ng-change="workOrderModel.setGlobalSelect()">
      </td>
      <td style="width: 10%">
        <span>בוצע</span>
        <input type="radio" ng-model="workOrderModel.select" value="done"
               ng-change="workOrderModel.setGlobalSelect()">
      </td>
      <td style="width: 28%"></td>
     </tr>
  </table>
  <div ng-show="workOrderModel.woIndex.properties.domainStatus[2] && workOrderModel.isOrderFilter">
    <table class="table table-hover" style="width:90%">
      <thead>
      <tr>
        <th></th>
        <th colspan="4">קבע לפי אירוע</th>
        <th colspan="4"></th>
        <th colspan="3" class="verticalLine">מתי מבצעים?</th>
        <th colspan="3" class="verticalLine">מה מבצעים?</th>
        <th class="verticalLine"></th>
      </tr>
      <tr>
      <th>    מספר  </th>
      <th>   תאריך  </th>
      <th>    מסירה  </th>
      <th>יציאה  </th>
      <th>    לקוח  </th>
      <th>    סועדים  </th>
      <th>    תפריט  </th>
      <th>    סטטוס  </th>
      <th>זיהוי</th>
     <th class="verticalLine">עוד לא</th>
      <th>להיום</th>
      <th>בוצע</th>
        <th class="verticalLine">הכל</th>
        <th>הכנות</th>
        <th>סרוויס</th>
        <th class="verticalLine" style="width: 6px"></th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="woItem in workOrderModel.woOrders track by woItem.id"
          ng-class="woItem.view.orderStatus.id===1?'bg-active':
                        woItem.view.orderStatus.id===2?'bg-warning':
                        (woItem.view.orderStatus.id>=3 && woItem.view.orderStatus.id<=5)?'bg-success':
                        woItem.view.orderStatus.id===6?'active myCanceledEvent':null">
        <td>
          <a ng-href="#/editOrderView/{{woItem.properties.order.id}}/0">{{woItem.properties.order.number}}</a>
        </td>
        <td>{{woItem.properties.order.eventDate | date: 'EEE dd/MM/yyyy'}}</td>
        <td>{{woItem.properties.order.eventTime | date: 'HH:mm'}}</td>
        <td>{{woItem.properties.order.exitTime | date: 'HH:mm'}}</td>
        <td>{{woItem.view.customer.firstName+' '+woItem.view.customer.lastName}}</td>
        <td>{{woItem.properties.order.noOfParticipants}}</td>
        <td>{{woItem.properties.order.header.title}}</td>
        <td  ng-style="workOrderModel.isOrderColors ? woItem.view.color.style : null">
          {{woItem.view.orderStatus.name}}
        </td>
        <td>{{woItem.view.color.tId}}</td>
     <td class="verticalLine">
          <input type="radio" ng-model="woItem.properties.select"
                 ng-change="workOrderModel.setOrderSelect(woItem)"
                 value="delay">
        </td>
        <td>
          <input type="radio" ng-model="woItem.properties.select"
                 ng-change="workOrderModel.setOrderSelect(woItem)"
                 value="today">
        </td>
        <td>
          <input type="radio" ng-model="woItem.properties.select"
                 ng-change="workOrderModel.setOrderSelect(woItem)"
                 value="done">
        </td>
        <td class="verticalLine">
          <input type="radio" ng-model="woItem.properties.prepScope"
                 ng-change="workOrderModel.setOrderPrepScope(woItem)"
                 ng-disabled="woItem.properties.select!=='today'"
                 value="all">
        </td>
        <td>
          <input type="radio" ng-model="woItem.properties.prepScope"
                 ng-change="workOrderModel.setOrderPrepScope(woItem)"
                 ng-disabled="woItem.properties.select!=='today'"
                 value="prep">
        </td>
        <td>
          <input type="radio" ng-model="woItem.properties.prepScope"
                 ng-change="workOrderModel.setOrderPrepScope(woItem)"
                 ng-disabled="woItem.properties.select!=='today'"
                 value="service">
        </td>
        <td class="verticalLine"></td>
      </tr>
      </tbody>
    </table>
  </div>
  <hr>

<div ng-repeat="cat in workOrderModel.hierarchicalWorkOrder[2].categories track by cat.category.tId">
  <input type="checkbox" ng-model="cat.isShow" style="margin-right: 1%">
  <label>{{cat.category.label}}</label>
  <span>&nbsp;&nbsp;פירוט</span>
  <input type="checkbox" ng-model="cat.isShowDetails" ng-change="workOrderModel.setCategoryDetail(cat)">
  <table ng-show="cat.isShow" class="table table-hover" style="width:100%">
    <tbody>
    <tr ng-class="woItem.properties.isInStock?'bg-warning':'null'"
        ng-repeat="woItem in cat.list  track by woItem.id"
        ng-show="workOrderModel.isShowItem(woItem)">
      <td style="width: 20%">{{woItem.properties.productName}}</td>
      <td ng-hide="workOrderModel.isShowPrepsTodayOnly" style="width: 5%">
        {{woItem.properties.quantity | number:2}}
      </td>
      <td ng-show="workOrderModel.isShowPrepsTodayOnly" style="width: 5%">
        {{woItem.properties.quantityForToday | number:2}}
      </td>
      <td style="width: 7%">{{woItem.properties.measurementUnit.label}}</td>
      <td style="widt:10%">
        <span>פירוט</span>
        <input type="checkbox" ng-model="woItem.isShowDetails"
               ng-disabled="!workOrderModel.isShowPrepsTodayOnly && woItem.properties.select==='mix'">
      </td>
      <td ng-hide="woItem.isShowDetails || workOrderModel.isShowPrepsTodayOnly" style="width: 10%">
        <span>עוד לא</span>
        <input type="radio" ng-model="woItem.properties.select" value="delay"
               ng-change="workOrderModel.setPrepSelect(woItem, true)"
               ng-disabled="woItem.properties.select==='mix'">
      </td>
      <td ng-show="!woItem.isShowDetails && workOrderModel.isShowPrepsTodayOnly" style="width: 10%"></td>
      <td ng-hide="woItem.isShowDetails || workOrderModel.isShowPrepsTodayOnly" style="width: 10%">
        <span>להיום</span>
        <input type="radio" ng-model="woItem.properties.select" value="today"
               ng-change="workOrderModel.setPrepSelect(woItem, true)"
               ng-disabled="woItem.properties.select==='mix'">
      </td>
      <td ng-show="!woItem.isShowDetails && workOrderModel.isShowPrepsTodayOnly" style="width: 10%"></td>
      <td ng-hide="woItem.isShowDetails || workOrderModel.isShowPrepsTodayOnly" style="width: 10%">
        <span>בוצע</span>
        <input type="radio" ng-model="woItem.properties.select" value="done"
               ng-change="workOrderModel.setPrepSelect(woItem, true)"
               ng-disabled="woItem.properties.select==='mix'">
      </td>
      <td ng-show="!woItem.isShowDetails && workOrderModel.isShowPrepsTodayOnly" style="width: 10%"></td>
      <td ng-hide="woItem.isShowDetails" style="width: 28%">
        <label ng-show="(!workOrderModel.isShowPrepsTodayOnly && woItem.isAnyRemark) ||
                        (workOrderModel.isShowPrepsTodayOnly && woItem.isRemarkForToday)">
          יש התאמות אישיות. ראה בפירוט</label>
      </td>
      <td colspan="4" style="width: 58%" ng-show="woItem.isShowDetails">
         <table class="table table-hover" border="1" style="width:100%">
          <thead>
          <th style="width: 15%">לקוח</th>
          <th style="width: 10%">יום</th>
          <th ng-repeat="menuItem in woItem.view.menuItems track by menuItem.id"
              ng-hide="workOrderModel.isShowPrepsTodayOnly && menuItem.quantityForToday===0">
            <span>{{menuItem.productName}}</span>
            <span ng-show="menuItem.isRemark">
              <label>{{"("+menuItem.remarkNo+")"}}</label>
            </span>
          </th>
          <th style="width: 10%">סה"כ</th>
          <th style="width: 10%" ng-hide="workOrderModel.isShowPrepsTodayOnly">עוד לא</th>
          <th style="width: 10%" ng-hide="workOrderModel.isShowPrepsTodayOnly">להיום</th>
          <th style="width: 10%" ng-hide="workOrderModel.isShowPrepsTodayOnly">בוצע</th>
          </thead>
          <tbody>
          <tr ng-show="!workOrderModel.isShowPrepsTodayOnly || order.select==='today'"
              ng-repeat="order in woItem.view.orders track by order.id">
            <td>{{order.customer}}</td>
            <td>{{order.day}}</td>
            <td ng-repeat="menuItem in order.menuItems track by menuItem.seq"
                ng-hide="workOrderModel.isShowPrepsTodayOnly &&
                         woItem.view.menuItems[menuItem.seq].quantityForToday===0">
              {{menuItem.quantity | number:2}}
            </td>
            <td>{{order.totalQuantity | number:2}}</td>
            <td ng-hide="workOrderModel.isShowPrepsTodayOnly">
              <input type="radio"
                     ng-model="order.select" value="delay"
                     ng-change="workOrderModel.setPrepOrderSelect(woItem,order)">
            </td>
            <td ng-hide="workOrderModel.isShowPrepsTodayOnly">
              <input type="radio"
                     ng-model="order.select" value="today"
                     ng-change="workOrderModel.setPrepOrderSelect(woItem,order)">
            </td>
           <td ng-hide="workOrderModel.isShowPrepsTodayOnly">
             <input type="radio"
                    ng-model="order.select" value="done"
                    ng-change="workOrderModel.setPrepOrderSelect(woItem,order)">
            </td>
          </tr>
          <tr>
          <td><label>סה"כ</label></td>
          <td></td>
          <td ng-repeat="menuItem in woItem.view.menuItems track by menuItem.id"
              ng-hide="workOrderModel.isShowPrepsTodayOnly && menuItem.quantityForToday===0">
            <span ng-hide="workOrderModel.isShowPrepsTodayOnly">{{menuItem.quantity | number : 2}}</span>
            <span ng-show="workOrderModel.isShowPrepsTodayOnly">{{menuItem.quantityForToday | number : 2}}</span>
          </td>
            <td ng-hide="workOrderModel.isShowPrepsTodayOnly">{{woItem.properties.quantity | number:2}}</td>
            <td ng-show="workOrderModel.isShowPrepsTodayOnly">{{woItem.properties.quantityForToday | number:2}}</td>
          </tr>
          </tbody>
        </table>
        <div ng-repeat="remark in woItem.view.menuItems | filter:{isRemark:true} track by remark.id"
             ng-hide="workOrderModel.isShowPrepsTodayOnly && remark.quantityForToday===0">
          <label>{{"התאמה אישית מס'"+remark.remarkNo+":"}}</label>
          <span>{{remark.remarkText}}</span>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
</div>
